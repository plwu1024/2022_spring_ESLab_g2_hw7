h = fir1(28, 6/24);
a = [-52 -44 -44 -77 -77 -98 -44 -44 19 19 63 81 81 55 55 20 20 1 1 -22 -8 -8 15 15 12 12 -12 -12 -15 13 13 47 47 55 55 49 25 25 -40 -40 -90 -130 -130 -159 -197 -197 -269 -307 -307 -290 -272 -272 -220 -189 -189 -177 -152 -152 -134 -147 -147 -159 -147 -147 -131 -111 -111 -104 -123 -123 -158 -173 -173 -148 -116 -116 -105 -83 -83 -44 -44 -19 -55 -55 -81 -81 -76 -22 -22 2 2 35 35 68 72 72 68 68 104 104 104 81 81 53 53 29 29 6 6 -37 -75 -75 -131 -131 -186 -220 -220 -248 -264 -264 -260 -264 -264 -271 -274 -274 -264 -264 -264 -279 -289 -289 -286 -330 -330 -352 -313 -313 -260 -223 -223 -175 -167 -167 -173 -152 -152 -126 -127 -127 -106 -69 -69 -86 -100 -100 -79 -36 -36 14 14 34 34 32 32 23 41 41 66 66 72 72 66 66 42 -2 -2 15 15 60 60 72 72 68 32 32 -1 -1 -9 -9 -3 -3 -35 -70 -70 -78 -78 -97 -142 -142 -162 -166 -166 -157 -153 -153 -159 -194 -194 -262 -346 -346 -376 -342 -342 -326 -286 -286 -266 -276 -276 -284 -260 -260 -234 -216 -216 -203 -147 -147 -112 -128 -128 -148 -130 -130 -117 -65 -65 -45 4 4 41 41 40 40 73 73 84 84 69 64 64 75 75 101 101 108 88 88 63 63 61 61 25 25 3 -34 -34 -52 -52 -90 -78 -78 -45 -45 -47 -57 -57 -56 -56 -63 -88 -88 -82 -83 -83 -114 -114 -123 -122 -122 -186 -245 -245 -295 -336 -336 -362 -380 -380 -335 -256 -256 -226 -235 -235 -242 -215 -215 -181 -104 -104 -89 -185 -185 -221 -216 -216 -147];
a_filtered = conv(h, a);

fileId = fopen('a_filtered.txt', 'w');

for i=1:320
    fprintf(fileId, '%.5ff ', a_filtered(i));
end

a_fig = figure("Name", 'a');
stem_plot(a_fig, a);
h_fig = figure("Name", 'h');
stem_plot(h_fig, h);
result = figure("Name", 'result');
stem_plot(result, a_filtered);

function[] = stem_plot(f, x )
    %figure(f);
    stem(x);
    xlabel('n');
    ylabel(f.Name);
end